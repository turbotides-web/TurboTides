<!DOCTYPE html>
<html lang="{{ or .Site.Language.Lang "ja" }}">

<head>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-07EBEJK6JD"></script>
    <script>window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-07EBEJK6JD');</script>

    {{- partial "head.html" . -}}
    {{ block "meta_tags" . }}{{end}}

    {{/* ��ҳר����ʽ home.css���״�����ʱ���� bundle */}}
    {{ if .IsHome }}
    {{ $home := resources.Get "css/home.css" | minify | fingerprint }}
    <link rel="stylesheet" href="{{ $home.RelPermalink }}" integrity="{{ $home.Data.Integrity }}">
    {{ end }}

    {{/* Software ҳ��ר����ʽ */}}
    {{ if or (eq .Section "software") (eq .Type "software") }}
    {{ with resources.Get "css/software.css" | minify | fingerprint }}
    <link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}">
    {{ end }}
    {{ end }}

    {{/* Services �� Contact ����ͬһ������ʽ */}}
    {{ if or (in (slice "services" "contact") .Section) (in (slice "services" "contact") .Type) }}
    {{ with resources.Get "css/services.css" | minify | fingerprint }}
    <link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}">
    {{ end }}
    {{ end }}

    {{/* Testimonials ҳ��ר����ʽ */}}
    {{ if or (eq .Section "testimonials") (eq .Type "testimonials") }}
    {{ with resources.Get "css/testimonials.css" | minify | fingerprint }}
    <link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}">
    {{ end }}
    {{ end }}

    {{/* ͨ��ҳ�������ʽ - ֻΪ��Ҫ��ҳ����أ��ų�contact���� */}}
    {{ $needsCommonPageStyles := or (and (eq .Section "blog") (or (eq .Type "softwarecases") (eq .Type "news"))) (eq .Section "other-software") }}
    {{ if $needsCommonPageStyles }}
    {{ with resources.Get "css/page-common.css" | minify | fingerprint }}
    <link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}">
    {{ end }}
    {{ end }}

    {{/* News �� Software Casesҳ��ר����ʽ - ��Ҫ�� page-common.css ֮����� */}}
    {{ $isNewsOrCases := or .Params.is_news_page (hasPrefix .RelPermalink "/news/") (hasPrefix .RelPermalink "/softwarecases/") }}
    {{ if $isNewsOrCases }}
    {{ with resources.Get "css/news.css" | minify | fingerprint }}
    <link rel="stylesheet" href="{{ .RelPermalink }}" integrity="{{ .Data.Integrity }}">
    {{ end }}
    {{ end }}

</head>

<body class="flex flex-col min-h-screen">
    <main class="flex-grow">
        {{- partial "header.html" . -}}
        <div class="scroll-top rounded-full">
            <span class="icon-keyboard_arrow_up text-2xl"></span>
        </div>
        {{- block "main" . }}{{- end }}
    </main>
    {{- partial "footer.html" . -}}
</body>

</html>